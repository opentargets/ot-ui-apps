import{aq as O}from"./index.ec2996a9.js";import{a as D}from"./codemirror.5d31e292.js";import{r as I}from"./index.94db1fec.js";function $(r,e){return e.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(o){if(o!=="default"&&!(o in r)){var u=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:function(){return a[o]}})}})}),Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var F={},G={};Object.defineProperty(G,"__esModule",{value:!0});function C(r){p=r,j=r.length,t=c=y=-1,i(),E();var e=q();return v("EOF"),e}G.default=C;var p,j,t,c,y,n,l;function q(){var r=t,e=[];if(v("{"),!w("}")){do e.push(H());while(w(","));v("}")}return{kind:"Object",start:r,end:y,members:e}}function H(){var r=t,e=l==="String"?Q():null;v("String"),v(":");var a=B();return{kind:"Member",start:r,end:y,key:e,value:a}}function U(){var r=t,e=[];if(v("["),!w("]")){do e.push(B());while(w(","));v("]")}return{kind:"Array",start:r,end:y,values:e}}function B(){switch(l){case"[":return U();case"{":return q();case"String":case"Number":case"Boolean":case"Null":var r=Q();return E(),r}v("Value")}function Q(){return{kind:l,start:t,end:c,value:JSON.parse(p.slice(t,c))}}function v(r){if(l===r){E();return}var e;if(l==="EOF")e="[end of file]";else if(c-t>1)e="`"+p.slice(t,c)+"`";else{var a=p.slice(t).match(/^.+?\b/);e="`"+(a?a[0]:p[t])+"`"}throw m("Expected "+r+" but found "+e+".")}function m(r){return{message:r,start:t,end:c}}function w(r){if(l===r)return E(),!0}function i(){return c<j&&(c++,n=c===j?0:p.charCodeAt(c)),n}function E(){for(y=c;n===9||n===10||n===13||n===32;)i();if(n===0){l="EOF";return}switch(t=c,n){case 34:return l="String",z();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l="Number",J();case 102:if(p.slice(t,t+5)!=="false")break;c+=4,i(),l="Boolean";return;case 110:if(p.slice(t,t+4)!=="null")break;c+=3,i(),l="Null";return;case 116:if(p.slice(t,t+4)!=="true")break;c+=3,i(),l="Boolean";return}l=p[t],i()}function z(){for(i();n!==34&&n>31;)if(n===92)switch(n=i(),n){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:i();break;case 117:i(),_(),_(),_(),_();break;default:throw m("Bad character escape sequence.")}else{if(c===j)throw m("Unterminated string.");i()}if(n===34){i();return}throw m("Unterminated string.")}function _(){if(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102)return i();throw m("Expected hexadecimal digit.")}function J(){n===45&&i(),n===48?i():x(),n===46&&(i(),x()),(n===69||n===101)&&(n=i(),(n===43||n===45)&&i(),x())}function x(){if(n<48||n>57)throw m("Expected decimal digit.");do i();while(n>=48&&n<=57)}var K=O&&O.__read||function(r,e){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var o=a.call(r),u,f=[],s;try{for(;(e===void 0||e-- >0)&&!(u=o.next()).done;)f.push(u.value)}catch(d){s={error:d}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}return f},M=O&&O.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(F,"__esModule",{value:!0});var R=M(D.exports),b=I,W=M(G);R.default.registerHelper("lint","graphql-variables",function(r,e,a){if(!r)return[];var o;try{o=W.default(r)}catch(f){if(f.stack)throw f;return[L(a,f,f.message)]}var u=e.variableToType;return u?X(a,u,o):[]});function X(r,e,a){var o=[];return a.members.forEach(function(u){var f;if(u){var s=(f=u.key)===null||f===void 0?void 0:f.value,d=e[s];d?k(d,u.value).forEach(function(g){var h=K(g,2),N=h[0],V=h[1];o.push(L(r,N,V))}):o.push(L(r,u.key,'Variable "$'+s+'" does not appear in any GraphQL query.'))}}),o}function k(r,e){if(!r||!e)return[];if(r instanceof b.GraphQLNonNull)return e.kind==="Null"?[[e,'Type "'+r+'" is non-nullable and cannot be null.']]:k(r.ofType,e);if(e.kind==="Null")return[];if(r instanceof b.GraphQLList){var a=r.ofType;if(e.kind==="Array"){var o=e.values||[];return P(o,function(s){return k(a,s)})}return k(a,e)}if(r instanceof b.GraphQLInputObjectType){if(e.kind!=="Object")return[[e,'Type "'+r+'" must be an Object.']];var u=Object.create(null),f=P(e.members,function(s){var d,g=(d=s==null?void 0:s.key)===null||d===void 0?void 0:d.value;u[g]=!0;var h=r.getFields()[g];if(!h)return[[s.key,'Type "'+r+'" does not have a field "'+g+'".']];var N=h?h.type:void 0;return k(N,s.value)});return Object.keys(r.getFields()).forEach(function(s){if(!u[s]){var d=r.getFields()[s].type;d instanceof b.GraphQLNonNull&&f.push([e,'Object of type "'+r+'" is missing required field "'+s+'".'])}}),f}return r.name==="Boolean"&&e.kind!=="Boolean"||r.name==="String"&&e.kind!=="String"||r.name==="ID"&&e.kind!=="Number"&&e.kind!=="String"||r.name==="Float"&&e.kind!=="Number"||r.name==="Int"&&(e.kind!=="Number"||(e.value|0)!==e.value)?[[e,'Expected value of type "'+r+'".']]:(r instanceof b.GraphQLEnumType||r instanceof b.GraphQLScalarType)&&(e.kind!=="String"&&e.kind!=="Number"&&e.kind!=="Boolean"&&e.kind!=="Null"||Y(r.parseValue(e.value)))?[[e,'Expected value of type "'+r+'".']]:[]}function L(r,e,a){return{message:a,severity:"error",type:"validation",from:r.posFromIndex(e.start),to:r.posFromIndex(e.end)}}function Y(r){return r==null||r!==r}function P(r,e){return Array.prototype.concat.apply([],r.map(e))}var A=$({__proto__:null,default:F},[F]);export{A as l};
